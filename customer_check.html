<!DOCTYPE html>


<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Customer Check</title>
    <link href="css/media_query.css" rel="stylesheet" type="text/css" />
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="css/animate.css" rel="stylesheet" type="text/css" />
        <link href="css/generalLogin.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
            integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
            integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
            crossorigin="anonymous"></script>
      <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
    <link href="css/owl.carousel.css" rel="stylesheet" type="text/css" />
    <link href="css/owl.theme.default.css" rel="stylesheet" type="text/css" />
    <link href="css/style_1.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js"></script>
    <script src="https://code.angularjs.org/1.7.9/angular-route.js"></script>
<script src="https://code.angularjs.org/1.6.9/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-route.js"></script>
<script src="/lib/bootstrap.js"></script>
<link rel="stylesheet" href="jquery-ui.min.css">
<script src="jquery-ui.min.js"></script>
<script src="//code.jquery.com/jquery-1.12.1.min.js"></script>
<script src="dist/jquery.userTimeout.js"></script>
<script src="jquery.sessionTimeout.js"></script>
<link rel="stylesheet" href="bootstrap.min.css">
<script src="bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

</head>
<body>



    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-warning" style="height:100px">
         <div>
             <a class="navbar-brand" href="#" style="width:20%"><img src="images/GCIL.png" style="height:70px; width:320px"></a>



             &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
             &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
             &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
             &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
             &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
             &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
             &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
             &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

             <button type="button" class="btn btn-primary">General User Login</button>
             &nbsp&nbsp&nbsp <button type="button" class="btn btn-danger" onclick="location.replace='Views/Home/AdminLogin.cshtml'">Admin Login</button>
         </div>
     </nav>
        -->

        <nav class="navbar navbar-expand-lg" style="background-color:#ffcccc;position:relative;">
          <a class="navbar-brand" href="#"><img src="images/GCIL-logo-2016-LEFT.png" style="height:70px;width:320px" /></a>
          <div style="width:25%; float:right;">
                  <p id="employeeid" style="color:black;" ></p>
                </div>

          <br>


          <div class="btn-group" role="group" aria-label="Basic example" style="float: right">
  <button type="button" class="btn btn-success" onclick="window.location.href = 'general_user_login.html';"><i class="fa fa-sign-out"></i>&nbspLogout</button>
</div>


      </a>


    </nav>    <br>




  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" data-backdrop="static" data-keyboard="false" aria-hidden="true" data-toggle="modal" data-target="#exampleModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

 <div class="container" style="width:100%">
    <br>
    <div class="row">

                                    &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                                    &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                       <div class="col-sm-6 col-md-4 col-md-offset-4"  >
            <h1 class="text-center login-title">EXISTING USER</h1>
            <br>

            <div>
                <img class="profile-img" src="images/logo_GCIL-2.jpg"
                    alt="">
                    <br>
                <form class="form-signin" ng-app="myApp" ng-controller="validateCtrl"
name="myForm" novalidate style="align:center">

<input type="Number" name="mobile" id="mobile"  class="form-control" ng-model="mobile" required placeholder="Mobile Number" ng-minlength="10"
                   ng-maxlength="10">
<span style="color:red" ng-show="myForm.mobile.$dirty && myForm.mobile.$invalid" id="messagehide">
<span ng-show="myForm.mobile.$error.required" id="messagehide2">Mobile Number is required.</span>
 <span
                  ng-show="((myForm.mobile.$error.minlength ||
                           myForm.mobile.$error.maxlength) &&
                           myForm.mobile.$dirty) " id="messagehide3">
                           Mobile number should be 10 digits
            </span>
</span>

<br>
<Button class="btn btn-lg btn-primary btn-block" type="submit" id="submit"
ng-disabled="myForm.$invalid || myForm.password.$dirty && myForm.password.$invalid ||
myForm.email.$dirty && myForm.email.$invalid && myForm.email.$error.required" ng-click="existingUserCheck();"> <i class="fa fa-check-square-o"></i>&nbspSubmit</Button>

<br>



<div class="btn-group" role="group" aria-label="Basic example" style="float: center; width:100%">
  <p>                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp                  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<b>New to GCIL?                   &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<button type="button" id="register" class="btn btn-danger" ng-click="RegisterNewUser();" style="float: center"><i class="fa fa-address-card" aria-hidden="true"></i>
&nbspRegister</button> </b></p>

</div>



                </form>
            </div>
        </div>
    </div>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">GCIL  </h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <h3></h3>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid fh5co_footer_bg pb-3">
        <div class="container animate-box">
            <div class="row">
                <div class="col-12 spdp_right py-5"><img src="images/logo_GCIL-2.jpg" alt="img" class="footer_logo" /></div>
                <div class="clearfix"></div>
                <div class="col-12 col-md-4 col-lg-3">
                    <div class="footer_main_title py-3"> About</div>
                    <div class="footer_sub_about pb-3">
                        Galway Centre for Independent Living (GCIL) is a not-for-profit organisation which enables us to provide affordable, premium services.
                    </div>

                </div>
                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

                <div class="col-12 col-md-3 col-lg-2">
                    <div class="footer_main_title py-3" style="width:400px"> Company Address</div>
                    <ul class="footer_menu" style="width:100%">
                        <p style="width:100%">
                            Registered Office: Unit 53, Briarhill Business Park, Briarhill, Galway, Ireland.
                            <ul>
                                <li>
                                    Tel:+353(091)773910
                                </li>
                                <li>
                                    Fax:+353(091)773919
                                </li>
                                <li>
                                    Mail:info@gcil.ie
                                </li>
                            </ul>

                        </p>
                    </ul>
                </div>

                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<div class="col-12 col-md-12 col-lg-4 ">
                    <div class="footer_main_title py-3"> Our Valuable Services</div>
                    <a href="#" class="footer_img_post_6"><img src="images/779_779_disabled_min.jpg" alt="img" /></a>
                    <a href="#" class="footer_img_post_6"><img src="images/volunteer-social-security-disability-1.jpg" alt="img" /></a>
                    <a href="#" class="footer_img_post_6"><img src="images/fec4d8_9e68aa55c6864e1483cc4807175616f9_mv2.jpg" alt="img" /></a>
                    <a href="#" class="footer_img_post_6"><img src="images/Orlaith-McManus-working-in-APD-India.jpg" alt="img" /></a>
                    <a href="#" class="footer_img_post_6"><img src="images/volunteering-for-people-with-disabilities.jpg" alt="img" /></a>
                    <a href="#" class="footer_img_post_6"><img src="images/13880642-disabled-worker.jpg" alt="img" /></a>
                    <a href="#" class="footer_img_post_6"><img src="images/Paul_Avis_monthly_column_.jpg" alt="img" /></a>
                    <a href="#" class="footer_img_post_6"><img src="images/42811213-disabled-worker-in-wheelchair-in-a-carpenter-s-workshop-with-his-colleague.jpg" alt="img" /></a>
                    <a href="#" class="footer_img_post_6"><img src="images/worker-wheelchair-carpenter-s-workshop-his-colleagu-disabled-colleague-thumb-up-58263021.jpg" alt="img" /></a>
                </div>
            </div>

        </div>
    </div>
    <div class="container-fluid fh5co_footer_right_reserved">
        <div class="container">
            <div class="row  ">
                <div class="col-12 col-md-6 py-4 Reserved"> © GCIL Copyright 2018, All rights reserved.  </div>
                <div class="col-12 col-md-6 spdp_right py-4">

                    <a href="#" class="footer_last_part_menu">Home</a>
                    <a href="Contact_us.html" class="footer_last_part_menu">Privacy Policy</a>
                    <a href="Contact_us.html" class="footer_last_part_menu">Disclaimer</a>
                    <a href="blog.html" class="footer_last_part_menu">CIL Network</a>
                </div>
            </div>
        </div>
    </div>

</body>
</html>

<script>
debugger;
var employeeId = localStorage.getItem("employeeid")|| [];
document.getElementById("employeeid").innerHTML =  "Welcome " + employeeId.replace('@gcil.ie','');
</script>

<script>
var app = angular.module('myApp', []);
app.controller('validateCtrl', function($scope, $http, $window, $location, $timeout) {
$scope.RegisterNewUser = function(){

                  $('#register').html("⚪ Opening...").prop('disabled',true);

          $window.location.href = "new_user_registration.html";
}

$scope.existingUserCheck = function() {
    debugger;
    var mobileNumber = angular.element(document.getElementById('mobile')).val();
     var URL = "http://192.168.0.157:8082/gcil/customerSearch" + "/" + mobileNumber;
                $('#submit').html("⭕ Submitting...").prop('disabled',true);


$.ajax({ cache: false,
    url: URL,
    type: 'get',
    success: function (data, status) {
      debugger;
      console.log(data);
      var employeeid = localStorage.getItem("employeeid");
      var customerId = data.customerId;
      var firstName = data.firstName;
       var lastName = data.lastName;
      var mobileNumber = data.mobileNumber;
       var emailID = data.emailId;
      var addressLineOne = data.addressLineOne;
       var addressLineTwo = data.addressLineTwo;
      var city = data.city;
       var county = data.county;
      var zipCode = data.zipCode;
      var country = data.country;

        localStorage.setItem("employeeid", employeeid);
        localStorage.setItem("customerId", JSON.stringify(customerId));
        localStorage.setItem("firstName", JSON.stringify(firstName));
        localStorage.setItem("lastName", JSON.stringify(lastName));
        localStorage.setItem("mobileNumber", JSON.stringify(mobileNumber));
        localStorage.setItem("emailID", JSON.stringify(emailID));
        localStorage.setItem("addressLineOne", JSON.stringify(addressLineOne));
        localStorage.setItem("addressLineTwo", JSON.stringify(addressLineTwo));
        localStorage.setItem("city", JSON.stringify(city));
        localStorage.setItem("county", JSON.stringify(county));
        localStorage.setItem("zipCode", JSON.stringify(zipCode));
        localStorage.setItem("country", JSON.stringify(country));

      $window.location = "existing_user_registration.html";
    },
    error:function (xhr, ajaxOptions, thrownError){
      debugger;
                      $('#submit').html("Submit").prop('disabled',false);

      console.log(xhr);
    if( xhr.responseJSON.errorMessage == "Customer not registered with phone number " +  mobileNumber) {
       $('.modal-body').html("Your Mobile Number " + mobileNumber +  " is not registered with GCIL," + " Please Register!!");
                    $('#myModal').modal('show');
    }

     if( xhr.status == 500) {
       $('.modal-body').html("Oops!! Something went wrong, Please try after sometime.");
                    $('#myModal').modal('show');
    }
}
});

};

});

</script>
